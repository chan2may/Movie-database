/*---------------database creation-------------*/
CREATE DATABASE MOVIES;

/*---------------Table Creation----------------*/
CREATE TABLE ACTOR (
ACT_ID INT (5) PRIMARY KEY,
ACT_NAME VARCHAR (20),
ACT_GENDER CHAR (1));


CREATE TABLE DIRECTOR (
DIR_ID INT (5) PRIMARY KEY,
DIR_NAME VARCHAR (20),
DIR_PHONE BIGINT);


CREATE TABLE MOVIES
(MOV_ID INT (4) PRIMARY KEY,
MOV_TITLE VARCHAR (50),
MOV_YEAR INT (4),
MOV_LANG VARCHAR (20),
DIR_ID INT (5),
FOREIGN KEY (DIR_ID) REFERENCES DIRECTOR(DIR_ID));


CREATE TABLE MOVIES_CAST (
ACT_ID INT (5),
MOV_ID INT (5),
ROLE VARCHAR (20),
PRIMARY KEY (ACT_ID, MOV_ID),
FOREIGN KEY (ACT_ID) REFERENCES ACTOR (ACT_ID),
FOREIGN KEY (MOV_ID) REFERENCES MOVIES (MOV_ID));

CREATE TABLE RATING (
MOV_ID INT (5) PRIMARY KEY,
REV_STARS VARCHAR (25),
FOREIGN KEY (MOV_ID) REFERENCES MOVIES (MOV_ID));


/*--------------Insertion of Values to Tables---------------*/

INSERT INTO ACTOR VALUES (1,'AISHWARYA RAI','F');
INSERT INTO ACTOR VALUES (2,'DEEPIKA PADUKONE','F');
INSERT INTO ACTOR VALUES (3,'RANBIR KAPOOR','M');
INSERT INTO ACTOR VALUES (4,'SHARUKH KHAN','M');

INSERT INTO DIRECTOR VALUES(101,'KARAN JOHAR',9563400156);
INSERT INTO DIRECTOR VALUES(102,'ALAN TAYLOR',9748960035);
INSERT INTO DIRECTOR VALUES(103,'IMTIAZ ALI',9563400156);
INSERT INTO DIRECTOR VALUES(104,'JOHN RICK',9971960035);
INSERT INTO DIRECTOR VALUES (105,'HITCHCOCK',7766138911);
INSERT INTO DIRECTOR VALUES (106,'STEVEN SPIELBERG',9966138934);

INSERT INTO MOVIES VALUES (501,'SPY FAMILY',2017,'ENGLISH',104);
INSERT INTO MOVIES VALUES (502,'RAZI',2017,'HINDI',103);
INSERT INTO MOVIES VALUES (503,'KGF', 2013,'KANNADA', 100);
INSERT INTO MOVIES VALUES (504,'ALICE IN WONDERLAND',2015,'ENGLISH',102);
INSERT INTO MOVIES VALUES (505,'HAUNTED',1975,'ENGLISH',106);
INSERT INTO MOVIES VALUES (506,'BRIDGERTON',2015,'ENGLISH', 106);
INSERT INTO MOVIES VALUES (507,'TOY STORY',1943,'ENGLISH',105);
INSERT INTO MOVIES VALUES (508,'SAW',1943,'ENGLISH',105);

INSERT INTO MOVIES_CAST VALUES (1, 501,'HEROINE');
INSERT INTO MOVIES_CAST VALUES (1, 502,'HEROINE');
INSERT INTO MOVIES_CAST VALUES (3, 503,'COMEDIAN');
INSERT INTO MOVIES_CAST VALUES (4, 504,'GUEST');
INSERT INTO MOVIES_CAST VALUES (4, 501,'HERO');

INSERT INTO RATING VALUES (501, 4);
INSERT INTO RATING VALUES (502, 2);
INSERT INTO RATING VALUES (503, 5);
INSERT INTO RATING VALUES (504, 4);
INSERT INTO RATING VALUES (505, 3);
INSERT INTO RATING VALUES (506, 2);

/*-------------SELECT statement to query all rows from the Movies table---------------*/
SELECT * FROM MOVIES;


/*-------------SELECT movies based on the actor's name---------------*/
SELECT M.MOVIE_TITLE,A.ACT_NAME FROM MOVIES M,ACTOR A,MOVIES_CAST MC WHERE M.MOV_ID = MC.MOV_ID AND A.ACT_ID=MC.ACT_ID ;